{
  "name": "money-printer-server",
  "version": "1.0.0",
  "description": "Command runner for the Money Printer server project",
  "scripts": {
    "clean": "find . -type f -name '*.py[co]' -delete -o -type d -name __pycache__ -delete",
    "build": "docker-compose -f docker-compose.dev.yml --env-file=.env.dev build",
    "build:prod": "docker-compose -f docker-compose.prod.yml --env-file=.env.prod build",
    "tests": "docker exec --tty -e MP_ENVIRONMENT=test $(docker-compose -f docker-compose.dev.yml --env-file=.env.dev ps -q api) sh -c 'python bin/tests'; exit $?",
    "tests:focus": "docker exec --tty -e MP_ENVIRONMENT=test $(docker-compose -f docker-compose.dev.yml --env-file=.env.dev ps -q api) sh -c 'pytest -n 1 -m focus --cov-config=.coveragerc --cov=src --cov-report term:skip-covered src/'; exit $?",
    "tests:ci": "docker exec -e MP_CI=true -e MP_ENVIRONMENT=test $(docker-compose -f docker-compose.dev.yml --env-file=.env.dev ps -q api) sh -c 'python bin/tests'; exit $?",
    "gendoc": "docker exec --tty $(docker-compose -f docker-compose.dev.yml ps --env-file=.env.dev -q api) /bin/bash -c \"MP_ENVIRONMENT=development PYTHONPATH=src python bin/dev/gendoc\"",
    "db:init": "/bin/bash bin/init-db",
    "db:migrate": "docker exec --tty $(docker-compose -f docker-compose.dev.yml --env-file=.env.dev ps -q api) /bin/bash -c \"cd src && MP_ENVIRONMENT=development alembic revision --autogenerate\"",
    "db:update": "docker exec --tty $(docker-compose -f docker-compose.dev.yml --env-file=.env.dev ps -q api) /bin/bash -c \"cd src && MP_ENVIRONMENT=development alembic upgrade head\"",
    "db:test:update": "docker exec --tty $(docker-compose -f docker-compose.dev.yml --env-file=.env.dev ps -q api) /bin/bash -c \"cd src && MP_ENVIRONMENT=test alembic upgrade head\"",
    "start": "docker-compose -f docker-compose.dev.yml --env-file=.env.dev start",
    "start:prod": "docker-compose -f docker-compose.prod.yml --env-file=.env.dev start",
    "stop": "docker-compose -f docker-compose.dev.yml --env-file=.env.dev stop",
    "stop:prod": "docker-compose -f docker-compose.prod.yml --env-file=.env.dev stop",
    "up": "docker-compose -f docker-compose.dev.yml --env-file=.env.dev up -d",
    "up:prod": "docker-compose -f docker-compose.prod.yml --env-file=.env.dev down",
    "down": "docker-compose -f docker-compose.dev.yml --env-file=.env.dev down",
    "down:prod": "docker-compose -f docker-compose.prod.yml --env-file=.env.dev down",
    "logs": "docker-compose -f docker-compose.dev.yml --env-file=.env.dev logs -f",
    "logs:prod": "docker-compose -f docker-compose.prod.yml --env-file=.env.dev logs -f",
    "recycle": "npm run down; sleep 1 && npm run build; sleep 1 && npm run up",
    "recycle:prod": "npm run down:prod; sleep 1 && npm run build:prod; sleep 1 && npm run up:prod",
    "restart": "npm run stop; sleep 1 && npm run start",
    "restart:prod": "npm run stop:prod; sleep 1 npm run start:prod"
  },
  "author": "Tim Gittos",
  "license": "ISC",
  "bugs": {
    "url": "https://gitlab.com/money-printer/money-printer-server/issues"
  },
  "homepage": "https://gitlab.com/money-printer/money-printer-server#readme"
}